#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "shiftcare"
require "irb"
require "json"

data = JSON.parse(ARGF.read)

puts "Welcome to the shiftcare JSON explorer"
puts "#{data.size} records loaded."
puts "A helper instance variable '@engine' is available for you to interactively explore this data"

# NOTE: We could do some funky method_missing stuff here to proxy methods to the engine
# to create local methods in the console but I think it's a bit overkill for this exercise.
# you get the idea :)
@engine = Shiftcare::NaiveEngine.new(data)

IRB.start(__FILE__)
